function Tab(e,r,t){return{name:e,content:r,machinecode:t,console:"",instructionLog:"",instructionSet:ISA_RISCV,memorySize:4096,core:null,inSimulation:!1,registers:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],regStates:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}function resizeMC(){}function resizeRAM(){}function resize(){resizeMC(),resizeRAM()}function addConsoleMsg(e,r){var t="";r==CONSOLE_ERROR?t=" class='error'":r==CONSOLE_SUCCESS?t=" class='success'":r==CONSOLE_WARNING&&(t=" class='warning'"),$("#console").append("<span"+t+">"+e+"</span>")}function uiAssemble(){var e=editor.getValue();if(""!=e){var r=tabs[currentTab].core;resetCore(r);var e=editor.getValue(),t=assemble(r,e);$("#console").html(""),null==t.errorMessage?($("#machineCode").val(t.machineCode.Oak_hex()),addConsoleMsg("<b>Assembly Succeeded!</b",CONSOLE_SUCCESS)):addConsoleMsg("<b>Assembler Error: </b>"+t.errorMessage,CONSOLE_ERROR),tabs[currentTab].inSimulation=!1}}function prepareSim(){var e=tabs[currentTab].core,r=$("#console").html();r.length>0&&($("#console").html(""),$("#log").html("")),resetCore(e);for(var t=$("#machineCode").val(),a=[],n=t.split(" "),o=0;o<n.length;o++){var s=parseInt(n[o],16);isNaN(s)||a.push(s)}if(0==a.length)return void addConsoleMsg("<b>ERROR: </b>No valid machine code.",CONSOLE_ERROR);if(tabs[currentTab].memorySize<=a.length)return void addConsoleMsg("<b>ERROR: </b>The allocated memory size is not big enough to contain the program. It needs to be at least "+a.length+" bytes.",CONSOLE_ERROR);for(var o=0;32>o;o++)tabs[currentTab].regStates[o]=REGISTER_UNASSIGNED;return startSim=performance.now(),a}function uiStepbystep(){var e=tabs[currentTab].core;if(0==tabs[currentTab].inSimulation){var r=prepareSim(),t=loadIntoMemory(e,r);if(null!==t)return void addConsoleMsg("<b>Failed to load machine code into memory: </b>"+t,CONSOLE_ERROR);tabs[currentTab].inSimulation=!0}var a=simulateStep(e);if("@Oak_Ecall"!=a){var n=$("#log > span:last-child").html();addConsoleMsg("<b>Simulator Step: </b>"+n,CONSOLE_NORMAL),updateRegAndMemory()}else null!=a&&"@Oak_Ecall"!=a&&(updateRegAndMemory(),addConsoleMsg("<b>Simulator Error: </b>"+a,CONSOLE_ERROR))}function displayMemory(){var e=tabs[currentTab].core,r=getMemory(e);$("#memory").html("");for(var t=0;t<r.length;t++){var a=r[t];$("#memory").append("0x"+padNo(a.toString(16),2)+" ")}}function updateRegAndMemory(){var e=tabs[currentTab].core,r=performance.now();console.log("Updating memory/registers...");for(var t=e.registerFile.getModifiedRegisters(),a=0;32>a;a++)tabs[currentTab].registers[a]=registerRead(e,a),t[a]?tabs[currentTab].regStates[a]=REGISTER_NEWASSIGNED:tabs[currentTab].regStates[a]==REGISTER_NEWASSIGNED&&(tabs[currentTab].regStates[a]=REGISTER_ASSIGNED);displayMemory(),showRegisters();var n=performance.now();console.log("Memory/register update done in "+(n-r)+"ms.")}function uiSimulate(){if(tabs[currentTab].inSimulation){tabs[currentTab].inSimulation=!1;var e=continueSim(tabs[currentTab].core);"@Oak_Ecall"!=e&&null!=e&&(updateRegAndMemory(),addConsoleMsg("<b>Simulator Error: </b>"+e,CONSOLE_ERROR))}else{var r=tabs[currentTab].core,t=prepareSim(),e=simulate(r,t);"@Oak_Ecall"!==e&&null!=e&&(updateRegAndMemory(),addConsoleMsg("<b>Simulator Error: </b>"+e,CONSOLE_ERROR))}}function switchModes(e){switch(e){case ISA_MIPS:return void editor.getSession().setMode("ace/mode/mips");default:case ISA_RISCV:return void editor.getSession().setMode("ace/mode/riscv")}}function createCore(e,r,t,a){switch("number"!=typeof r&&(r=parseInt(r)),e){case ISA_MIPS:return new MIPSCore(r,t,a);default:case ISA_RISCV:return new RISCVCore(r,t,a)}}function updateMemorySize(e){if(e!=tabs[currentTab].memorySize){if(0>=e)return void addConsoleMsg("<b>ERROR: </b> Memory size cannot be less than one byte.",CONSOLE_ERROR);tabs[currentTab].memorySize=e,delete tabs[currentTab].core,tabs[currentTab].core=createCore(tabs[currentTab].instructionSet,e,invokeEnvironmentCall,decodeCallback),updateRegAndMemory(),$("#console").html(""),addConsoleMsg("<b>Success: </b> Memory has been resized. (Please make sure the new memory size fits your program.)",CONSOLE_SUCCESS)}}function setConsoleMode(e){0==e?($("#memory, #log").css("display","none"),$("#console").css("display","block")):1==e?($("#console, #log").css("display","none"),$("#memory").css("display","block")):($("#console, #memory").css("display","none"),$("#log").css("display","block")),$("#consoleSel").val(e)}function showRegisters(){for(var e=parseInt($("#regSel").val()),r=tabs[currentTab].registers,t=$("table > tbody > tr"),a=$("table > tbody > tr > td:nth-child(2)"),n=0;n<r.length;n++){var o;switch(e){case 0:o="0x"+padNo((r[n]>>>0).toString(16),8);break;case 1:o=(r[n]>>>0).toString(10);break;case 2:o=r[n].toString(10),o>2147483648&&(o-=4294967296);break;case 3:o="0b"+padNo((r[n]>>>0).toString(2),32);break;case 4:o=oakParseToFloat(r[n])}switch(a.eq(n).html(o),tabs[currentTab].regStates[n]){default:t.eq(n).removeClass("justEdited").removeClass("edited");break;case REGISTER_ASSIGNED:t.eq(n).removeClass("justEdited").addClass("edited");break;case REGISTER_NEWASSIGNED:t.eq(n).addClass("justEdited").removeClass("edited")}}}function invokeEnvironmentCall(){var e=tabs[currentTab].core,r="mips"==tabs[currentTab].core.instructionSet.name,t=registerRead(e,r?2:17),a=registerRead(e,r?4:10);if(1==tabs[currentTab].inSimulation){var n=$("#log > span:last-child").html();addConsoleMsg("<b>Simulator Step: </b>"+n,CONSOLE_NORMAL),updateRegAndMemory()}setConsoleMode(0);var o=!1;switch(t){case 1:$("#console").append("<span> >>> "+a+"</span>");break;case 4:for(var s=a,i="",b=e.memory[s];0!=b;)i+=String.fromCharCode(b),s+=1,b=e.memory[s];console.log(i),$("#console").append("<span> >>> "+i+"</span>");break;case 5:updateRegAndMemory();var l=prompt("Please enter a number as input.");tabs[currentTab].registers[r?2:17]=parseInt(l),registerWrite(e,r?2:17,parseInt(l)),$("#console").append("<span class='input insertable'> <<< "+l+"</span>");break;case 8:updateRegAndMemory();for(var l=prompt("Please enter a string as input."),c=[],d=0;d<l.length;d++)c.push(255&l.charCodeAt(d));e.memset(tabs[currentTab].registers[r?4:10],c),$("#console").append("<span class='input insertable'> <<< "+l+"</span>");break;case 10:o=!0;break;case 420:var u;switch(a){default:u="https://youtube.com/watch?v=KZACorHeE-c";break;case 1:u="https://youtube.com/watch?v=L_jWHffIx5E";break;case 2:u="https://youtube.com/watch?v=dQw4w9WgXcQ";break;case 3:u="https://youtube.com/watch?v=VONRQMx78YI";break;case 4:u="https://youtube.com/watch?v=mtf7hC17IBM";break;case 5:u="https://youtube.com/watch?v=yKNxeF4KMsY"}var m=window.open(u,"_blank");m.focus();break;case 1776:var h="[AARON BURR]<br /><br />How does a bastard, orphan, son of a whore and a<br /><br />Scotsman, dropped in the middle of a forgotten<br /><br />Spot in the Caribbean by providence, impoverished, in squalor<br /><br />Grow up to be a hero and a scholar?<br /><br /><br /><br />[JOHN LAURENS]<br /><br />The ten-dollar Founding Father without a father<br /><br />Got a lot farther by working a lot harder<br /><br />By being a lot smarter<br /><br />By being a self-starter<br /><br />By fourteen, they placed him in charge of a trading charter<br /><br /><br /><br />[THOMAS JEFFERSON]<br /><br />And every day while slaves were being slaughtered and carted<br /><br />Away across the waves, he struggled and kept his guard up<br /><br />Inside, he was longing for something to be a part of<br /><br />The brother was ready to beg, steal, borrow, or barter<br /><br /><br /><br />[JAMES MADISON]<br /><br />Then a hurricane came, and devastation reigned<br /><br />Our man saw his future drip, dripping down the drain<br /><br />Put a pencil to his temple, connected it to his brain<br /><br />And he wrote his first refrain, a testament to his pain<br /><br /><br /><br />[BURR]<br /><br />Well, the word got around, they said, “This kid is insane, man”<br /><br />Took up a collection just to send him to the mainland<br /><br />“Get your education, don’t forget from whence you came, and<br /><br />The world's gonna know your name. What’s your name, man?”<br /><br /><br /><br />[ALEXANDER HAMILTON]<br /><br />Alexander Hamilton<br /><br />My name is Alexander Hamilton<br /><br />And there’s a million things I haven’t done<br /><br />But just you wait, just you wait...<br /><br /><br /><br />[ELIZA HAMILTON]<br /><br />When he was ten his father split, full of it, debt-ridden<br /><br />Two years later, see Alex and his mother bed-ridden<br /><br />Half-dead sittin' in their own sick, the scent thick<br /><br /><br /><br />[FULL COMPANY EXCEPT HAMILTON (whispering)]<br /><br />And Alex got better but his mother went quick<br /><br /><br /><br />[GEORGE WASHINGTON]<br /><br />Moved in with a cousin, the cousin committed suicide<br /><br />Left him with nothin’ but ruined pride, something new inside<br /><br />A voice saying<br /><br /><br /><br />[WASHINGTON]<br /><br />“You gotta fend for yourself.”	[COMPANY]<br /><br />“Alex, you gotta fend for yourself.”<br /><br />[WASHINGTON]<br /><br />He started retreatin’ and readin’ every treatise on the shelf<br /><br /><br /><br />[BURR]<br /><br />There would have been nothin’ left to do<br /><br />For someone less astute<br /><br />He woulda been dead or destitute<br /><br />Without a cent of restitution<br /><br />Started workin’, clerkin’ for his late mother’s landlord<br /><br />Tradin’ sugar cane and rum and all the things he can’t afford<br /><br />Scammin’ for every book he can get his hands on<br /><br />Plannin’ for the future see him now as he stands on<br /><br />The bow of a ship headed for a new land<br /><br />In New York you can be a new man	 <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />[COMPANY]<br /><br />Scammin’<br /><br /><br /><br />Plannin’<br /><br />Oooh...<br /><br />[COMPANY]<br /><br />In New York you can<br /><br />Be a new man—<br /><br />In New York you can<br /><br />Be a new man—	[HAMILTON]<br /><br />Just you wait!<br /><br /><br /><br />Just you wait!<br /><br />[COMPANY]<br /><br />In New York you can be a new man—<br /><br /><br /><br />[WOMEN]<br /><br />In New York—	 <br /><br />[MEN]<br /><br />New York—<br /><br />[HAMILTON]<br /><br />Just you wait!<br /><br /><br /><br />[COMPANY]<br /><br />Alexander Hamilton<br /><br /><br /><br />We are waiting in the wings for you<br /><br /><br /><br />You could never back down<br /><br />You never learned to take your time!<br /><br /><br /><br />Oh, Alexander Hamilton<br /><br /><br /><br />When America sings for you<br /><br />Will they know what you overcame?<br /><br />Will they know you rewrote the game?<br /><br />The world will never be the same, oh<br /><br /><br /><br />[BURR]<br /><br />The ship is in the harbor now<br /><br />See if you can spot him<br /><br /><br /><br />Another immigrant<br /><br />Comin’ up from the bottom<br /><br /><br /><br />His enemies destroyed his rep<br /><br />America forgot him	 <br /><br />[COMPANY]<br /><br />Alexander Hamilton<br /><br /><br /><br />Waiting in the wings for you<br /><br /><br /><br />You never learned to take your time!<br /><br /><br /><br />Oh, Alexander Hamilton<br /><br />Alexander Hamilton…<br /><br />America sings for you<br /><br />Will they know what you overcame?<br /><br />Will they know you rewrote the game?<br /><br />The world will never be the same, oh<br /><br /><br /><br /><br /><br />[MEN]<br /><br />Just you wait<br /><br /><br /><br />[COMPANY]<br /><br />Just you wait<br /><br /><br /><br /><br /><br /><br /><br />[MULLIGAN/MADISON & LAFAYETTE/JEFFERSON]<br /><br />We fought with him<br /><br /><br /><br />[LAURENS/PHILIP]<br /><br />Me? I died for him<br /><br /><br /><br />[WASHINGTON]<br /><br />Me? I trusted him<br /><br /><br /><br />[ELIZA & ANGELICA & PEGGY/MARIA]<br /><br />Me? I loved him<br /><br /><br /><br />[BURR]<br /><br />And me? I’m the damn fool that shot him<br /><br /><br /><br />[COMPANY]<br /><br />There’s a million things I haven’t done<br /><br />But just you wait!<br /><br /><br /><br />[BURR]<br /><br />What’s your name, man?<br /><br /><br /><br />[COMPANY]<br /><br />Alexander Hamilton!";addConsoleMsg(h,CONSOLE_SUCCESS);break;default:addConsoleMsg("<b>WARNING:</b> Environment call "+t+" unsupported.",CONSOLE_WARNING)}if(1==tabs[currentTab].inSimulation&&updateRegAndMemory(),o){tabs[currentTab].inSimulation=!1;var p=performance.now()-startSim,v=$("#log > span").length,f=1e3*v/p;updateRegAndMemory(),addConsoleMsg("<b>Complete:</b> Simulation completed in "+Math.round(p)+" ms, "+v+" instructions, "+Math.round(f)+" instructions/second.",CONSOLE_SUCCESS)}else if(0==tabs[currentTab].inSimulation){var i=continueSim(e);"@Oak_Ecall"!=i&&null!=i&&(updateRegAndMemory(),addConsoleMsg("<b>Simulator Error: </b>"+i,CONSOLE_ERROR))}}function decodeCallback(e){$("#log").append("<span>"+e+"</span>")}function setOptionsTab(e){for(var r=0;3>r;r++)r==e?($("aside > div").eq(r+2).addClass("selected"),$(".optionsTabs > div").eq(r).addClass("selected")):($("aside > div").eq(r+2).removeClass("selected"),$(".optionsTabs > div").eq(r).removeClass("selected"))}function padNo(e,r){for(var t=e,a=0;a<r-e.length;a++)t="0"+t;return t}function oakParseFromFloat(e){var r=0>e,t=r?"1":"0",a=e.toString().split("."),n=parseInt(a[0]),o=0;isNaN(n)&&(n=0),a.length>1&&(o=parseInt(a[1]));for(var s=(n>>>0).toString(2),i="",b=parseFloat("0."+o.toString()),l=0;b>0;){var c=Math.pow(2,-l-1);0>b-c?i+="0":(b-=c,i+="1"),l++}var d=parseInt(s.substr(1)+i,2).toString(2);alert(s);var u;u=s>0?s.length:-i.length,d=parseInt(s.substr(1)+i,2).toString(2).substring(0,23),u+=127,u=Math.log2(u);var m=(u>>>0).toString(2),h=t+"|"+padNo(m,8)+"|"+padNo(d,23);return alert(h),parseInt(h,2)}function downloadAsm(){var e=editor.getValue();if(0!=e.length){var r=document.createElement("a"),t=new Blob([e],{type:"text/plain"}),a=URL.createObjectURL(t),n=tabs[currentTab].name+".s";r.setAttribute("href",a),r.setAttribute("download",n),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}function downloadBin(){var e=$("#machineCode").val();if(0!=e.length){for(var r=e.split(" "),t=[],a=0;a<r.length;a++){var n=parseInt(r[a],16);isNaN(n)||t.push(n)}var o=new Uint8Array(t),s=new Blob([o],{type:"application/octet-stream"}),i=URL.createObjectURL(s),b=document.createElement("a"),l=tabs[currentTab].name+".bin";b.setAttribute("href",i),b.setAttribute("download",l),b.style.display="none",document.body.appendChild(b),b.click(),document.body.removeChild(b)}}function downloadRam(){var e=$("#memory").html();if(0!=e.length){for(var r=e.split(" "),t=[],a=0;a<r.length;a++){var n=parseInt(r[a],16);isNaN(n)||t.push(n)}var o=new Uint8Array(t),s=new Blob([o],{type:"application/octet-stream"}),i=URL.createObjectURL(s),b=document.createElement("a"),l=tabs[currentTab].name+".ram";b.setAttribute("href",i),b.setAttribute("download",l),b.style.display="none",document.body.appendChild(b),b.click(),document.body.removeChild(b)}}function encodeFloat(e){var r,t,a,n,o,s=+e,i=s!==s||s==-(1/0)||s==+(1/0)?s:0,b=0,l=281,c=new Array(l),d=(s=0!==i?0:s)<0,s=Math.abs(s),u=Math.floor(s),m=s-u;if(0!==i){if(s!==s)return 2143289344;if(s===1/0)return 2139095040;if(s===-(1/0))return 4286578688}for(r=l;r;)c[--r]=0;for(r=129;u&&r;)c[--r]=u%2,u=Math.floor(u/2);for(r=128;m>0&&r;)(c[++r]=((m*=2)>=1)-0)&&--m;for(r=-1;++r<l&&!c[r];);if(c[(t=22+(r=(b=128-r)>=-126&&127>=b?r+1:128-(b=-127)))+1]){if(!(a=c[t]))for(n=t+2;!a&&l>n;)a=c[n++];for(n=t+1;a&&--n>=0;)(c[n]=!c[n]-0)&&(a=0)}for(r=0>r-2?-1:r-3;++r<l&&!c[r];);for((b=128-r)>=-126&&127>=b?++r:-126>b&&(r=255,b=-127),(u||0!==i)&&(b=128,r=129,i==-(1/0)?d=1:i!==i&&(c[r]=1)),s=Math.abs(b+127),o=0,n=0;8>n;)o+=s%2<<n,s>>=1,n++;var h=0;for(s=r+23;s>r;r++)h=(h<<1)+c[r];return(d?2147483648:0)+(o<<23)+h|0}function oakParseToFloat(e){var r=8388607,t=2139095040,a=2147483648,n=1;a&e&&(n=-1);var o=(t&e)>>23;o=Math.pow(2,o-127);for(var s=r&e,i=0;23>i;i++)s/=2;return s+=1,n*o*s}function converter(){var e=$("#inputVal").val(),r=parseInt($("#inputSel").val());switch(r){case 0:e=parseInt(e,16);break;case 1:case 2:e=parseInt(e,10);break;case 3:e=parseInt(e,2);break;case 4:e=encodeFloat(e)}"NaN"==e.toString()&&alert("Invalid value for input!");var t,a=parseInt($("#outputSel").val());switch(a){case 0:t="0x"+padNo((e>>>0).toString(16),8);break;case 1:t=(e>>>0).toString(10);break;case 2:t=e.toString(10),t>2147483648&&(t-=4294967296);break;case 3:t="0b"+padNo((e>>>0).toString(2),32);break;case 4:t=oakParseToFloat(e)}$("#outputVal").val(t)}var ISA_RISCV=0,ISA_MIPS=1,tabs=[],currentTab=-1,editor,mcEditor,CONSOLE_ERROR=0,CONSOLE_SUCCESS=1,CONSOLE_WARNING=2,CONSOLE_NORMAL=3,REGISTER_UNASSIGNED=0,REGISTER_ASSIGNED=1,REGISTER_NEWASSIGNED=2,startSim;!function(){"use strict";function e(){for(var e=tabs[currentTab].core.instructionSet.abiNames,r=$("table tr > td:first-child"),t=0;t<e.length;t++)r.eq(t).html(e[t]);showRegisters()}function r(r,n,o){0!=tabs.length&&(tabs[currentTab].content=editor.getValue(),tabs[currentTab].machinecode=mcEditor.val(),tabs[currentTab].instructionLog=$("#log").html(),tabs[currentTab].console=$("#console").html()),$("body").removeClass("noTab"),$("section nav > div").removeClass("selected"),currentTab=$("section nav > div").length,$("section nav").append(i),$("section nav > div.selected span").html(r),$("section nav > div.selected").on("click",function(){var e=$(this).index();t(e)}),$("section nav > div.selected > div").on("click",function(e){var r=$(this).parent().index();a(r),e.preventDefault()}),$("#regSel").on("change",function(){showRegisters()}),$("#filename").val(r),$("#memsize").val(4096),$("#console").html(""),$("#memory").html(""),$("#log").html(""),tabs.push(Tab(r,n,o)),tabs[currentTab].instructionSet=ISA_RISCV,tabs[currentTab].core=createCore(tabs[currentTab].instructionSet,4096,invokeEnvironmentCall,decodeCallback),$("#isa").val(tabs[currentTab].instructionSet),switchModes(tabs[currentTab].instructionSet),editor.setValue(n),mcEditor.val(o),e()}function t(r){tabs[currentTab].content=editor.getValue(),tabs[currentTab].machinecode=mcEditor.val(),tabs[currentTab].console=$("#console").html(),tabs[currentTab].instructionLog=$("#log").html(),editor.setValue(tabs[r].content),mcEditor.val(tabs[r].machinecode);var t=$("section nav > div");t.eq(currentTab).removeClass("selected"),t.eq(r).addClass("selected"),$("#filename").val(tabs[r].name),$("#isa").val(tabs[r].instructionSet),$("#memsize").val(tabs[r].memorySize),$("#console").html(tabs[r].console),$("#log").html(tabs[r].instructionLog),switchModes(tabs[r].instructionSet),currentTab=r,displayMemory(),e()}function a(r){if(1==tabs.length)tabs.pop(),$("section nav").html(""),$("body").addClass("noTab"),currentTab=-1;else if(tabs.splice(r,1),$("section nav > div").eq(r).remove(),currentTab>r)currentTab--;else if(currentTab==r){0!=r&&currentTab--;var t=$("section nav > div");t.removeClass("selected"),t.eq(currentTab).addClass("selected"),switchModes(tabs[currentTab].instructionSet),$("#filename").val(tabs[currentTab].name),$("#isa").val(tabs[currentTab].instructionSet),$("#memsize").val(tabs[currentTab].memorySize),editor.setValue(tabs[currentTab].content),mcEditor.val(tabs[currentTab].machineCode),$("#console").html(tabs[currentTab].console),$("#log").html(tabs[currentTab].instructionLog),displayMemory(),e()}}function n(){a(currentTab)}function o(e){var t=$("#fileInputElement")[0].files;if(t.length){var a=t[0],n=a.slice(0,a.size),o=new FileReader;o.addEventListener("load",function(){for(var e=new Uint8Array(this.result),t="",n=0;n<e.length;n++)t+=e[n]<16?"0"+e[n].toString(16).toUpperCase()+" ":e[n].toString(16).toUpperCase()+" ";r(a.name,"",t)}),o.readAsArrayBuffer(n),$("#fileInputElement").val("")}}function s(e){var t=$("#asmInputElement")[0].files;if(t.length){var a=t[0],n=a.slice(0,a.size),o=new FileReader;o.addEventListener("load",function(){r(a.name,this.result,"")}),o.readAsText(n),$("#asmInputElement").val("")}}var i="<div class='selected'><span></span><div></div></div>",b='    la a0, str\n    li a7, 4 #4 is the string print service number...\n    ecall\n    li a7, 10 #...and 10 is the program termination service number!\n    ecall\n.data\nstr:    .string "Hello, World!"';$(document).ready(function(){$("select").val(0);for(var t=1;3>t;t++)$("#theme"+t).prop("disabled",!0);editor=ace.edit("editor"),editor.setOption("firstLineNumber",0),editor.setTheme("ace/theme/oak"),editor.getSession().setMode("ace/mode/riscv"),editor.getSession().setUseWrapMode(!0),editor.$blockScrolling=1/0,mcEditor=$("#machineCode"),r("Untitled",b,""),$(".addTab").on("click",function(){r("Untitled",b,"")}),$(".removeTab").on("click",function(){n()}),$("#convertBtn").on("click",function(){converter()}),$("#consoleSel").on("change",function(){setConsoleMode($(this).val())}),$("#fileInputElement").on("change",function(e){o(e)}),$("#asmInputElement").on("change",function(e){s(e)}),$(".loadAsm").on("click",function(){$("#asmInputElement").click()}),$(".loadBin").on("click",function(){$("#fileInputElement").click()}),$("#applyBtn").on("click",function(){var r=$("#filename").val();$("nav .selected span").html(r),tabs[currentTab].name=r;var t=$("#memsize").val();updateMemorySize(t);var a=parseInt($("#isa").val());tabs[currentTab].instructionSet!=a&&(tabs[currentTab].instructionSet=a,delete tabs[currentTab].core,tabs[currentTab].core=createCore(a,t,invokeEnvironmentCall,decodeCallback),switchModes(a),e(),updateRegAndMemory())}),$("#sideGrabber").on("mousedown",function(e){var r=$(this).parent(),t=$(this).parent().parent().find("section"),a=$(this).parent().parent().find("footer"),n=$(this).parent().parent().width();$(document).on("mouseup",function(e){$(document).off("mouseup").off("mousemove"),e.preventDefault()}),$(document).on("mousemove",function(e){var o=100*e.pageX/n;o=Math.min(90,Math.max(20,o)),r.css({width:100-o+"%"}),t.css({width:o+"%"}),a.css({width:o+"%"}),e.preventDefault()}),e.preventDefault()}),$("#editorGrabber").on("mousedown",function(e){var r=$(this).parent(),t=$(this).parent().parent().find("#editor"),a=$(this).parent().parent().width();$(document).on("mouseup",function(e){$(document).off("mouseup").off("mousemove"),e.preventDefault()}),$(document).on("mousemove",function(e){var n=100*e.pageX/a;n=Math.min(90,Math.max(20,n)),r.css({width:100-n+"%"}),t.css({width:n+"%"}),e.preventDefault()}),e.preventDefault()}),$("#yGrabber").on("mousedown",function(e){var r=$(this).parent(),t=$(this).parent().parent().find("footer"),a=$(this).parent().parent().height(),n=e.pageY-$(this).position().top+r.position().top;$(document).on("mouseup",function(e){$(document).off("mouseup").off("mousemove"),e.preventDefault()}),$(document).on("mousemove",function(e){var o=100*(e.pageY-n)/a;o=Math.min(90,Math.max(15,o)),r.css({height:o+"%"}),t.css({height:100-o+"%"}),e.preventDefault()}),e.preventDefault()})}),$("#themes").change(function(){for(var e=$(this).val(),r=0;3>r;r++)$("#theme"+r).prop("disabled",r!=e)}),$("#editorSel").change(function(){var e=$(this).val();1==e?($("section > #editor").css({width:"50%"}),$("section > aside").css({width:"50%"})):($("section > #editor").css({width:"100%"}),$("section > aside").css({width:"0%"}))})}();